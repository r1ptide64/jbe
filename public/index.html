<!DOCTYPE html>
<html>
<head>
    <title>Gingiel-Bordon Basestar</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/favicon/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicon/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/favicon/manifest.json">
    <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/favicon/favicon.ico">
    <meta name="msapplication-config" content="/favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no"/>
    <link rel="stylesheet" href="/node_modules/angular-material/angular-material.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="/node_modules/angular/angular.js"></script>
    <script src="/node_modules/angular-resource/angular-resource.js"></script>
    <script src="/node_modules/angular-aria/angular-aria.js"></script>
    <script src="/node_modules/angular-animate/angular-animate.js"></script>
    <script src="/node_modules/angular-material/angular-material.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="ng-app.js"></script>
</head>

<body ng-app="joebApp">
<div ng-controller="joebController">
    <div layout="column" layout-fill>
        <md-toolbar>
            <div class="md-toolbar-tools">
                <span>Gingiel-Bordon Basestar</span>
                <!-- fill up the space between left and right area -->
                <span flex></span>
                <!-- 				<md-button> Right Bar Button </md-button> -->
            </div>
        </md-toolbar>
    </div>
    <md-content layout-xs="column" layout="row" layout-wrap layout-align="space-around">
        <md-card flex="auto">
            <md-card-title>
                <md-card-title-text>
                    <span class="md-headline">Switches</span>
                </md-card-title-text>
            </md-card-title>
            <md-card-content layout="column">
                <md-list>
                    <md-list-item ng-repeat="switch in items.switch" ng-click="toggleSwitch(switch)">
                        <md-icon>lightbulb_outline</md-icon>
                        <p>{{switch.name}}</p>
                        <md-switch class="md-secondary" ng-model="switch.state"
                                   ng-change="sendCommand(switch)"></md-switch>
                    </md-list-item>
                </md-list>
            </md-card-content>
        </md-card>
        <md-card flex="auto">
            <md-card-title>
                <md-card-title-text>
                    <span class="md-headline">Climate</span>
                </md-card-title-text>
            </md-card-title>
            <md-card-content layout="column">
                <md-list flex>
                    <md-list-item>
                        <p>Temperature</p>
                        <span class="md-secondary">
                                {{items.hvac.temp.state}}&nbsp;&deg;F
                            </span>
                    </md-list-item>
                    <md-list-item>
                        <p>Humidity</p>
                        <span class="md-secondary">
                                {{items.hvac.humid.state}}%
                            </span>
                    </md-list-item>
                    <md-divider></md-divider>
                    <md-list-item>
                        <p>Setpoint</p>
                        <md-select ng-model="items.hvac.setpoint.state" md-on-close="sendCommand(items.hvac.setpoint)">
                            <md-option ng-value="setpoint" ng-repeat="setpoint in setpointAry">
                                {{setpoint}}
                            </md-option>
                        </md-select>
                    </md-list-item>
                    <md-list-item>
                        <p>Mode</p>
                        <md-radio-group layout="row" ng-model="items.hvac.mode.state"
                                        ng-change="sendCommand(items.hvac.mode)">
                            <md-radio-button ng-value=0>Off</md-radio-button>
                            <md-radio-button ng-value=1>Heat</md-radio-button>
                            <md-radio-button ng-value=2>AC</md-radio-button>
                        </md-radio-group>
                    </md-list-item>
                </md-list>
            </md-card-content>
        </md-card>
        <md-card flex="auto">
            <md-card-title>
                <md-card-title-text>
                    <span class="md-headline">Presence</span>
                </md-card-title-text>
            </md-card-title>
            <md-card-content layout="column">
                <md-list flex>
                    <md-list-item>
                        <p>Josh</p>
                        <span class="md-secondary">
                                Unknown
                            </span>
                    </md-list-item>
                    <md-list-item>
                        <p>Chelsea</p>
                        <span class="md-secondary">
                                Unknown
                            </span>
                    </md-list-item>
                </md-list>
            </md-card-content>
        </md-card>
        <md-card flex="auto">
            <md-card-title>
                <md-card-title-text>
                    <span class="md-headline">Media</span>
                </md-card-title-text>
            </md-card-title>
            <md-card-content layout="column">
                <md-list flex>
                    <div ng-repeat="castItem in items.cc">
                        <md-divider ng-show="castItem.expanded"></md-divider>
                        <md-list-item ng-click="toggleExpansion(castItem)" class="md-2-line">
                            <!--class="{{ castItem.active ? 'md-3-line' : 'md-2-line' }}"-->
                            <md-icon ng-style="castItem.active ? {color: '#8BC34A'} : {color: 'grey'}">
                                {{ castIcon(castItem) }}
                            </md-icon>
                            <div class="md-list-item-text">
                                <h3 class="md-subhead">{{castItem.name}}</h3>
                                <p class="md-body-2">{{castItem.active ?
                                    castItem.receiverStatus.applications[0].displayName : 'Inactive'}}</p>
                            </div>
                            <md-icon class="md-secondary">
                                {{ castItem.expanded ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}
                            </md-icon>
                        </md-list-item>
                        <div ng-show="castItem.expanded" layout="column">
                            <md-list-item class="md-2-line" flex>
                                <div class="md-list-item-text md-offset">
                                    <h4>{{castItem.media.metadata.title}}</h4>
                                </div>
                            </md-list-item>
                            <md-slider-container flex style="margin-left: 72px; margin-right: 16px">
                                <md-slider min="0" max="1" ng-model="castItem.receiverStatus.volume.level" step="{{castItem.receiverStatus.volume.stepInterval}}"></md-slider>
                            </md-slider-container>
                            <div flex style="margin-left: 72px; margin-right: 16px" layout="row" layout-align="space-between start">
                                <span>{{castCurrentTime(castItem)}}</span>
                                <span>{{castDuration(castItem)}}</span>
                            </div>
                        </div>
                        <md-divider ng-show="castItem.expanded"></md-divider>
                    </div>
                    <!--<md-list-item class="md-2-line" ng-click="toggleExpansion()">
                        <md-icon>video_library</md-icon>
                        <div class="md-list-item-text">
                            <h3>Couch Potatoes by Bittman</h3>
                            <p>Inactive</p>
                        </div>
                    </md-list-item>
                    <div ng-show="isExpanded" layout="row" layout-align="center">
                        <md-button class="md-icon-button" aria-label="Custom Icon Button">
                            <md-icon>skip_previous</md-icon>
                        </md-button>
                        <md-button class="md-icon-button" aria-label="Custom Icon Button">
                            <md-icon>play_arrow</md-icon>
                        </md-button>
                        <md-button class="md-icon-button" aria-label="Custom Icon Button">
                            <md-icon>skip_next</md-icon>
                        </md-button>
                        <md-button class="md-icon-button" aria-label="Custom Icon Button">
                            <md-icon>volume_up</md-icon>
                        </md-button>
                    </div>
                    <md-list-item class="md-2-line" ng-click="toggleExpansion()">
                        <md-icon>video_library</md-icon>
                        <div class="md-list-item-text">
                            <h3>Couch Potatoes by Bittman</h3>
                            <p>Inactive</p>
                        </div>
                    </md-list-item>
                    <div ng-show="isExpanded" layout="row" layout-align="center">
                        <md-button class="md-icon-button" aria-label="Custom Icon Button">
                            <md-icon>skip_previous</md-icon>
                        </md-button>
                        <md-button class="md-icon-button" aria-label="Custom Icon Button">
                            <md-icon>play_arrow</md-icon>
                        </md-button>
                        <md-button class="md-icon-button" aria-label="Custom Icon Button">
                            <md-icon>skip_next</md-icon>
                        </md-button>
                        <md-button class="md-icon-button" aria-label="Custom Icon Button">
                            <md-icon>volume_up</md-icon>
                        </md-button>
                    </div>
                    <md-list-item class="md-2-line" ng-click="toggleExpansion()">
                        <md-icon>video_library</md-icon>
                        <div class="md-list-item-text">
                            <h3>Couch Potatoes by Bittman</h3>
                            <p>Inactive</p>
                        </div>
                    </md-list-item>
                    <div ng-show="isExpanded" layout="row" layout-align="center">
                        <md-button class="md-icon-button" aria-label="Custom Icon Button">
                            <md-icon>skip_previous</md-icon>
                        </md-button>
                        <md-button class="md-icon-button" aria-label="Custom Icon Button">
                            <md-icon>play_arrow</md-icon>
                        </md-button>
                        <md-button class="md-icon-button" aria-label="Custom Icon Button">
                            <md-icon>skip_next</md-icon>
                        </md-button>
                        <md-button class="md-icon-button" aria-label="Custom Icon Button">
                            <md-icon>volume_up</md-icon>
                        </md-button>
                    </div>-->
                </md-list>
            </md-card-content>
        </md-card>
        <md-card>
            <md-card-title>
                <md-card-title-text>
                    <span class="md-headline">Chores</span>
                </md-card-title-text>
            </md-card-title>
        </md-card>
    </md-content>
</div>
</body>
</html>